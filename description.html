<!DOCTYPE html>
<!-- Website template by freewebsitetemplates.com -->
<head>
    <title>Decsription</title>
    <meta charset="utf-8">
    <!--<link href="css/style.css" rel="stylesheet" type="text/css">-->
    <script src="js/cart.js"></script>
    <link href="css/style.css" rel="stylesheet" type="text/css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

</head>
<script type="text/javascript">

    function displayItemDescription() {
        this.displaySelectedItemsFromCart();
        var response;
        var productType;
        var imgSrc;
        var burgerAmt;
        var parameters = location.search.substring(1).split("&");
        var temp = parameters[0].split("=");
        choice = unescape(temp[1]);
       
        switch (choice) {
            case 'Burger': response = displayBurgers();
                productType = 'Burgers';
                imgSrc = "images/burger.jpg";
                burgerAmt = "";
                break;

            case 'Bowls': response = displayBowls();
                productType = 'Bowls';
                imgSrc = "images/bowl.jpg"
                break;

            case 'Subs': response = displaySubs();
                     productType = 'Subs';
                     imgSrc = "images/subs.jpg"
                     break;
               
            case 'wraps': response = displayWraps();
                productType = 'Wraps';
                imgSrc = "images/wraps.jpg"
                break;

            case 'Breakfast': response = displayBreakfastItems();
                productType = 'Breakfast';
                imgSrc = "images/breakfast2.jpg"
                break;
            case 'Custom': response = displayCustomizedItems();
                productType = 'Customized item';
                imgSrc = "images/bowl1.jpg"
                break;
        }
       
        for (var prop in response) {
         
            document.getElementById('tblHeader').innerHTML = productType;
            document.getElementById('tblHeader').setAttribute('colspan', 3);

            const newRow = document.getElementById('tblDescription').appendChild(document.createElement('tr'));
            const rowId = 'cartRow' + Math.random();
            newRow.setAttribute('id', rowId);
            
            var divProductImg = document.createElement("img"); 
            divProductImg.src = imgSrc;
            divProductImg.style.width = "120px"
            divProductImg.style.height = "100px";

            newRow.appendChild(divProductImg);
          
            var code = response[prop].code;
            const productName = code + "." + response[prop].productName;
            var divProductName = document.createElement("a");
            var textnode = document.createTextNode(productName)
           
            divProductName.appendChild(textnode);

            const productDescription = response[prop].description;
            var divProductDesc = document.createElement("span");
            var textDesc = document.createTextNode(productDescription)
            divProductDesc.appendChild(textDesc);
            divProductDesc.style.background = "none";

            divProductName.appendChild(divProductDesc);
            newRow.appendChild(divProductName)
            divProductName.href = "javascript:openPopUp('" + code + "')"

            divProductName.style.textDecoration = "none";
            divProductName.style.className = "fontDescription"    
            divProductName.style.color = "black"; 
            var price;
            if (code == 'B1' || code == 'B2' || code == 'B3' || code == 'B4' || code == 'B5' || code == 'B6') {
                price = burgerAmt;
            }
            else {
                 price = "$" + response[prop].price;
            }
         
            var divPrice = document.createElement("span"); /*I have changed this to span because it was inheriting style from #body .content div div and breaking the UI. It is a temporary fix*/
            var textnodePrice = document.createTextNode(price)
            divPrice.appendChild(textnodePrice);
            divPrice.style.background = "none";
            divPrice.className = "fontBold";
            newRow.appendChild(divPrice);
            
        }
    }
    window.onload = displayItemDescription;    
</script>
<script>
    function displaySelectedItemsFromCart() {
        //Since the user can select any number of items, creating the div's dynamically
       
        var response = sessionStorage.getItem("vegOramaCart");
        var result = JSON.parse(response);
        //Cartline is an array and will have multiple items, so looping through and fetching values from session to display inside div's.
        if (result) {
          console.log(result);
            result.cartLine.forEach((item, rowNumber) => {
                const newRow = document.getElementById('cartTable').appendChild(document.createElement('tr'));
                const rowId = 'cartRow' + rowNumber;
                newRow.setAttribute('id', rowId);
                var code = item.code;

                var btnMinus = document.createElement("img");
                btnMinus.src = "images/edit1.jpg";
                btnMinus.style.width = "15px"
                btnMinus.style.height = "18px";
                newRow.appendChild(btnMinus);

                btnMinus.onclick = function () {
                    // decreaseQuantity(item.code)        
                    // location.reload();
                    openPopUp(code);
                   
                };
               
                const productName = code + "." + item.productName;
                var divProductName = document.createElement("div");
                var textnode = document.createTextNode(productName)
                divProductName.appendChild(textnode);  

                if(item.notes)
                {
                var notes = "[" + item.notes + "]";                
                var divNotes = document.createElement("div");
                var textNotes = document.createTextNode(notes);
                divProductName.appendChild(textNotes);
                }    

                newRow.appendChild(divProductName)
                divProductName.style.width = "60%";
                const quantity = item.qty;
                var divQty = document.createElement("div");
                var textnodeQty = document.createTextNode(quantity);
                divQty.appendChild(textnodeQty);
                newRow.appendChild(divQty)
                divQty.style.width = "20%"
                divQty.style.textAlign = "left";

                const price = "$"+ item.price;
                var divPrice = document.createElement("div");
                var textnodePrice = document.createTextNode(price)
                divPrice.appendChild(textnodePrice);
                newRow.appendChild(divPrice)
                divPrice.style.width = "20%";
                divQty.style.textAlign = "center";

                var btnCancel = document.createElement("img");
                btnCancel.src = "images/DeleteNew.jpg";
                btnCancel.style.width = "10%"
                btnCancel.style.height = "25px";
              
                newRow.appendChild(btnCancel);
                btnCancel.onclick = function () {

                    var rowId = newRow.id;
                    deleteCartItem(rowId, item.code)
                    location.reload();

                  

                }

                btnCancel.style.borderRadius = "8px";
              
            })

            const totalprice = "$" + result.totalPrice
            var divTotalPrice = document.createElement("div");
            var textnodeTotalPrice = document.createTextNode(totalprice)
            divTotalPrice.appendChild(textnodeTotalPrice);
            document.getElementById('dvTotalPrice').appendChild(divTotalPrice);

            const salestax = "$" + result.salesTax;
            var divSalesTax = document.createElement("div");
            var textnodeSalesTax = document.createTextNode(salestax)
            dvSalesTax.appendChild(textnodeSalesTax);
            document.getElementById('dvSalesTax').appendChild(divSalesTax);


            const finalTotalprice = "$" + result.finalTotal;
            var divFinalTotalPrice = document.createElement("div");
            var textnodeTotalPrice = document.createTextNode(finalTotalprice)
            divFinalTotalPrice.appendChild(textnodeTotalPrice);
            document.getElementById('dvFinalTotalPrice').appendChild(divFinalTotalPrice);
            divFinalTotalPrice.className="fontBold"
           
        }
        else {

            document.getElementById('dvShowNoitems').innerHTML = "Your bag is empty!";
            
        }


    }
</script>

<html>
<body>

    <div id="blue-third">
        <div id="header">
            <div>
                <a href="index.html"><img src="images/logo.png" width="332" height="205" alt="" title=""></a>
                <ul class="navigation">
                    <li>
                        <a href="index.html">Home</a>
                    </li>
                    <li>
                        <a href="about.html">About</a>
                    </li>
                    <li>
                        <a class="active" href="burger.html">Menu</a>
                    </li>
                    <li>
                        <a href="contact.html">Contact</a>
                    </li>

                </ul>
            </div>
        </div>
    </div>
    <div id="body" style="background-color:white !important">

        <div class="content" style="background:none !important">
            <table id="tblDescription" class="tblDesc" style="border-style:solid;border-color:gray;">
                <tr>
                    <th class="headerColor" id="tblHeader"></th>
                </tr>

            </table>
        </div>
        <div class="sidebar">

            <div id="dvMain" class="displayMain" style="width:100%">
                <table id="cartTable" class="cart" style="width:100%;">
                    <tr>
                        <td> <h1>Veg-O-Rama</h1></td>
                        <td colspan="4"></td>
                    </tr>
                    <!--*Display description in first row *-->
                    <tr id="tblCartDesc">
                        <td style="width:60%">
                            Item
                        </td>

                        <td style="width:15%">
                            Qty
                        </td>

                        <td style="width:20%">
                            Price
                        </td>
                        <td style="width:5%"></td>
                    </tr>
                    <tr>
                        <td colspan="5" id="dvShowNoitems" class="txtNoItem"></td>
                    </tr>

                </table>
                <table id="cartPricing" style="width:100%;background-color: lightgray;">
                    <tr>
                        <td style="width:80%">Total Price</td>
                        <td style="width:20%"><div id="dvTotalPrice" style="text-align:right"></div></td>
                    </tr>
                    <tr>
                        <td>Sales Tax</td>
                        <td><div id="dvSalesTax" style="text-align:right"></div></td>
                    </tr>
                    <tr>
                        <td>
                            Final Total Price
                        </td>
                        <td><div id="dvFinalTotalPrice" style="text-align:right"></div></td>
                    </tr>
                </table>

            </div>

            <div id="dvProceedBtn" style="margin-right:3px;margin-top:10px">
                <button onclick="navigate()" id="btnProceed">Proceed to check out </button>
                <button id="btnCancel">Cancel </button>
            </div>


        </div>
    </div>
    <div id="footer">
        <div>
            <ul>
                <li class="first">
                    <h2>Delivery Hotline</h2>
                    <h3>Call 0-123-456-789</h3>
                    <ul>
                        <li>
                            <a href="http://www.google.com" class="facebook"></a>
                        </li>
                        <li>
                            <a href="http://www.google.com" class="twitter"></a>
                        </li>
                        <li>
                            <a href="http://www.google.com" class="googleplus"></a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="index.html"><img class="logo" src="images/logo-footer.png" alt=""></a>
                    <ul class="navigation">
                        <li>
                            <a href="index.html">Home</a>
                        </li>
                        <li>
                            <a href="about.html">About Us</a>
                        </li>
                        <li>
                            <a href="menu.html">Menu</a>
                        </li>
                        <li>
                            <a href="contact.html">Contact Us</a>
                        </li>
                    </ul>
                    <span>&copy; Veg-O-Rama All Rights Reserved</span>
                </li>
                <li class="last">
                    <h2>Follow Us By Email</h2>
                    <form action="index.html">
                        <input type="text" name="subscribe" value="Enter Your Email Here...">
                        <input type="submit" value="">
                    </form>
                </li>
            </ul>
        </div>
    </div>

    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeModal" onclick="hideModal(); return false">&times;</span>
            <table id="tblPopUp">
                <tr id="trPopupHeader">
                    <td style="width:100%" id="modalItemName" colspan="2"> </td>
                </tr>
                <tr>
                    <td style="width:100%" colspan="2" id="modalItemDesc">   </td>
                </tr>
                <tr>
                    <td> <b>Price:</b> </td>
                    <td class="txtRightAlign" id="modalItemPrice"> </td>
                </tr>
                <tr>
                    <td>  <label for="name"><b>Quantity:</b></label></td>
                    <td class="txtRightAlign">
                        <input type="button" onclick="decrementValue()" value="-">
                        <input type="number" min="1" id="modalItemQty" value="1" />
                        <input type="button" onclick="incrementValue()" value="+" />
                        <input type="hidden" id="modalItemCode">
                    </td>
                </tr>
                <tr id="trBurgerItems" style="display:none;background-color:lightgray">
                    <td>
                        <div>
                            <b>*Choose second burger:</b>
                            <div>Required choose 2nd  </div>
                            <div class="paddingBurger">
                                <input type="radio" name="rdBurgerType" id="rdPeanut" value="2.50" onchange="addSecondBurgerPrice(this)" required>Peanut Crusted Cajun Blackbean Burger
                                <input type="radio" name="rdBurgerType" id="rdMeanGreen" value="2.50" onchange="addSecondBurgerPrice(this)" required>Mean Green Protein Pea Burger
                            </div>
                            <div class="paddingBurger">
                                <input type="radio" name="rdBurgerType" id="rdGolden" value="2.00" onchange="addSecondBurgerPrice(this)">Golden Crunchy Potato Burger
                                <input type="radio" name="rdBurgerType" id="rdLoveSeed" value="2.00" onchange="addSecondBurgerPrice(this)">The Love Seed Beet Them All Burger
                            </div>
                            <div class="paddingBurger">
                                <input type="radio" name="rdBurgerType" id="rdGoldenBird" value="2.50" onchange="addSecondBurgerPrice(this)">Golden Crunchy Bird's Nest Burger
                                <input type="radio" name="rdBurgerType" id="rdPeanutCrusted" value="2.50" onchange="addSecondBurgerPrice(this)">Peanut Crusted Blackbean Burger
                            </div>
                        </div>
                    </td>
                </tr>
                <tr id="trBurgerExtra"  style="display:none">
                    <td>
                        <b> Choose extras as you'd like:</b><br />
                        <input type="checkbox" name="chkBurgerExtra" value="1.00" onchange="addExtraCharges(this)"> Vegan Cheese  +$1.00<br>
                        <input type="checkbox" name="chkBurgerExtra" value="1.00" onchange="addExtraCharges(this)"> Gluten Free bun  +$1.00
                    </td>
                </tr>
                <tr style="display:none" id="trCustomStyle">
                    <td colspan="2">
                        <div id="dvCustomItems">
                            Choose a style

                            <div>Required choose 1</div>
                            <input type="radio" name="typeOfItem" id="rdWrap" value="5.49" onchange="calculateBowlPrice()"><label>Wrap</label>
                            <input type="radio" name="typeOfItem" id="rdPizza" value="5.49" onchange="calculateBowlPrice()"><label>Pizza</label>
                            <input type="radio" name="typeOfItem" id="rdBowl" value="1.00" onchange="calculateBowlPrice()"><label>Bowl + $1.00</label>
                        </div>
                    </td>
                </tr>
                <tr style="display:none" id="trCustomExtra">
                    <td colspan="2">
                        <div class="fontBold">Would you like to add extra?</div>
                        <div>Optional- Choose a maximum of 1</div>
                        <input type="checkbox" name="typeOfRice" id="chkBasmati" value="1.00" onchange="addExtraCharges(this)"><label>Add basmati + $1.00</label>
                        <input type="checkbox" name="typeOfRice" id="chkBrown" value="1.00" onchange="addExtraCharges(this)"><label>Add brown rice + $1.00</label><br />
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <b> Complete your meal: </b><br>
                        <input type="checkbox" name="typeOfAddOn" id="chkPopper" value="3.49" onchange="addExtraCharges(this)"><label>8 Jalepeno Poppers + $3.49</label><br />
                        <input type="checkbox" name="typeOfAddOn" id="chkSamosa" value="2.99" onchange="addExtraCharges(this)"><label>2 Classic Samosa + $2.99</label><br />
                        <input type="checkbox" name="typeOfAddOn" id="chkFries" value="2.99" onchange="addExtraCharges(this)"><label>Famous Masala Fries + $2.99</label><br />
                        <input type="checkbox" name="typeOfAddOn" id="chkFritters" value="3.99" onchange="addExtraCharges(this)"> <label>8 Crispy Pakora Fritters + $3.99</label><br />
                    </td>
                </tr>

                <tr>
                    <td colspan="2">  <label for="comment"><b> Special instructions: </b></label> </td>

                </tr>
                <tr>
                    <td colspan="2">
                        <textarea placeholder="Dressing on the side?No pickle?Let us know here." rows="4" cols="70" id="txtNotes"></textarea>
                    </td>
                </tr>
                <tr>
                    <td colspan="2"> <input id="btnAddToBag" type="button" value="Add to bag:" onclick="getItemCode()"> </td>
                </tr>

            </table>
         

        </div>

      
    </div>
   



</body>
</html>